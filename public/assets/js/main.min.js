$(document).ready((function(){$("#original").on("input",(function(){$("#urlError").hide(),$("#create").removeAttr("disabled"),$("#fileName").html("Generated Link")})),$("#download").click((function(){document.location.href=$("#generated").val()})),$("#create").click((function(){var regEx=/^https:\/\/www\.fshare\.vn\/file\/.+/,inputURL=regEx.test($("#original").val())?$("#original").val():`https://${$("#original").val()}`,password=$("#password").val();regEx.test(inputURL)?($("#create").html('<span class="spinner-border spinner-border-sm ml-4 mr-4" role="status" aria-hidden="true"></span>').attr("disabled",!0),$.get("/generate",{url:inputURL,password:password},(function(res){$("#create").html("Get Link"),200==res.code?($("#generated").val(res.location.replace("http://","https://")),$("#fileName").html(`File name: <span class='text-success'>${decodeURI($("#generated").val().split("/")[5])}</span>`),$("#copy").removeAttr("disabled"),$("#download").removeAttr("disabled")):123==res.code?$("#generated").val("Invalid file password!"):404==res.code?($("#generated").val("File not found!"),$("#copy").attr("disabled",!0),$("#download").attr("disabled",!0)):($("#generated").val("Something went wrong!"),$("#copy").attr("disabled",!0),$("#download").attr("disabled",!0))}))):$("#urlError").show()})),$(".js-textareacopybtn").click((function(){var copyTextarea=$(this).data("id");$("#"+copyTextarea)[0].select();try{document.execCommand("copy")}catch(err){console.log("Oops, unable to copy")}}))}));